<%- include('partials/header') %>

  <!-- Hero Section -->
  <header class="hero"
    style="background-image: linear-gradient(rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.8)), url('/images/hero-banner.png'); background-size: cover; background-position: center;">
    <div class="container">
      <div class="hero-content">
        <h1>Experience the Future of Tech</h1>
        <p>Discover premium gadgets, smart devices, and cutting-edge electronics designed to elevate your lifestyle.</p>
        <div style="display: flex; gap: 16px;">
          <a href="/shop" class="btn btn-primary">Shop Now <i class="fas fa-arrow-right"></i></a>
          <a href="#featured" class="btn btn-secondary">View Featured</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Features Section -->
  <section style="padding: 40px 0; background: var(--surface-color); border-bottom: 1px solid var(--border-color);">
    <div class="container"
      style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 32px;">
      <div style="display: flex; align-items: center; gap: 16px;">
        <div
          style="width: 48px; height: 48px; border-radius: 50%; background: rgba(59, 130, 246, 0.1); color: var(--primary-color); display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">
          <i class="fas fa-shipping-fast"></i>
        </div>
        <div>
          <h4 style="font-weight: 700; margin-bottom: 4px;">Free Shipping</h4>
          <p style="font-size: 0.9rem; color: var(--text-muted);">On all orders over €50</p>
        </div>
      </div>
      <div style="display: flex; align-items: center; gap: 16px;">
        <div
          style="width: 48px; height: 48px; border-radius: 50%; background: rgba(16, 185, 129, 0.1); color: var(--success-color); display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">
          <i class="fas fa-shield-alt"></i>
        </div>
        <div>
          <h4 style="font-weight: 700; margin-bottom: 4px;">Secure Payment</h4>
          <p style="font-size: 0.9rem; color: var(--text-muted);">100% secure transactions</p>
        </div>
      </div>
      <div style="display: flex; align-items: center; gap: 16px;">
        <div
          style="width: 48px; height: 48px; border-radius: 50%; background: rgba(245, 158, 11, 0.1); color: var(--warning-color); display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">
          <i class="fas fa-undo"></i>
        </div>
        <div>
          <h4 style="font-weight: 700; margin-bottom: 4px;">Easy Returns</h4>
          <p style="font-size: 0.9rem; color: var(--text-muted);">30-day money back guarantee</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Products -->
  <main class="container" id="featured">
    <h2 class="section-title" style="margin-top: 60px;">Trending Now</h2>
    <div class="grid-container">
      <% if (typeof products !=='undefined' && products.length> 0) { %>
        <% products.forEach(product=> { %>
          <div class="card product-card">
            <div class="product-image">
              <a href="/product/<%= product._id %>">
                <img src="<%= product.image %>" alt="<%= product.name %>">
              </a>
              <button class="add-to-cart-btn" data-id="<%= product._id %>"
                style="position: absolute; bottom: 16px; right: 16px; box-shadow: var(--shadow-md);">
                <i class="fas fa-plus"></i>
              </button>
            </div>
            <div class="product-info">
              <div class="product-category">
                <%= product.category %>
              </div>
              <a href="/product/<%= product._id %>">
                <h3 class="product-title">
                  <%= product.name %>
                </h3>
              </a>
              <p class="text-muted-sm" style="font-size: 0.8rem; margin-bottom: 5px;">
                Added by <%= product.user ? product.user.name : 'Unknown' %>
              </p>
              <div class="rating">
                <% for(let i=0; i < 5; i++) { %>
                  <% if (product.rating>= i + 1) { %>
                    <i class="fas fa-star"></i>
                    <% } else if (product.rating>= i + 0.5) { %>
                      <i class="fas fa-star-half-alt"></i>
                      <% } else { %>
                        <i class="far fa-star"></i>
                        <% } %>
                          <% } %>
                            <span style="color: var(--text-muted); font-size: 0.8rem;">(<%= product.numReviews %>
                                )</span>
              </div>
              <div class="product-footer">
                <div class="product-price">
                  <% if (product.discount> 0) { %>
                    <span style="text-decoration: line-through; color: #888; font-size: 0.9em; margin-right: 5px;">€<%=
                        product.price %></span>
                    <span style="color: var(--danger-color);">€<%= product.discountedPrice %></span>
                    <% } else { %>
                      €<%= product.price %>
                        <% } %>
                </div>
              </div>
            </div>
          </div>
          <% }) %>
            <% } else { %>
              <p style="grid-column: 1/-1; text-align: center;">No products found.</p>
              <% } %>
    </div>
  </main>

  <script src="/js/index.js"></script>

  <%- include('partials/footer') %>